{"version":3,"sources":["webpack:///webpack/bootstrap e4ee28a7ef009de7b7d4","webpack:///./lib/rough_life.js","webpack:///./lib/game.js","webpack:///./lib/square.js","webpack:///./lib/util.js","webpack:///./lib/game_view.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAC;;;;;;;ACXD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA,MAAK;AACL;;AAEA;;AAEA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;;AAEA;AACA;AACA;AACA;;;AAGA;;;;;;;ACxEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;ACpEA;AACA;AACA;AACA;AACA;AACA,uBAAsB,qBAAqB;AAC3C;AACA;AACA;AACA,OAAM;AACN;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,oBAAmB,qBAAqB;AACxC,sBAAqB,qBAAqB;AAC1C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC3CA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"./lib/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap e4ee28a7ef009de7b7d4","const Game = require('./game');\nconst GameView = require('./game_view');\n\ndocument.addEventListener(\"DOMContentLoaded\", function() {\n  const canvasEl = document.getElementsByTagName(\"canvas\")[0];\n  canvasEl.width = Game.DIM_X;\n  canvasEl.height = Game.DIM_Y;\n\n  const context = canvasEl.getContext(\"2d\");\n  const game = new Game();\n  new GameView(game, context).start();\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/rough_life.js\n// module id = 0\n// module chunks = 0","const Square = require(\"./square\");\nconst Util = require(\"./util\");\n\nclass Game {\n  constructor() {\n    this.squares = {};\n    this.addSquares();\n    this.changeSquares();\n    this.flow = false;\n    // only squares has precedent\n    this.onlySquares = false;\n    this.killColor = false;\n  }\n\n  addSquares() {\n    Game.ALLPOSITIONS.forEach((position) => {\n      const options = {\n        pos: position,\n        canvasPosition: Util.canvasPosition(position),\n        width: Util.RECTWIDTH,\n        height: Util.RECTHEIGHT,\n        game: this\n      };\n      this.squares[position] = new Square(options);\n    });\n  }\n\n  surroundingSquares(pos) {\n    return Util.surroundingPositions(pos).map(squarepos => {\n      return this.squares[squarepos];\n    });\n  }\n\n  howManyLive(pos) {\n\n    const squares = this.surroundingSquares(pos);\n    return squares.reduce((accum, square) => {\n      if (square !== undefined && square.live) {\n        return accum + 1;\n      } else {\n        return accum;\n      }\n    }, 0);\n  }\n\n  changeSquares() {\n    Game.ALLPOSITIONS.forEach((position) => {\n      return this.squares[position].change(this.howManyLive(position));\n    });\n  }\n\n  draw(context) {\n    if (!this.onlySquares) {\n      if (!this.flow) {\n        context.clearRect(0, 0, Game.DIM_X, Game.DIM_Y);\n        context.fillStyle = Game.BG_COLOR;\n        context.fillRect(0, 0, Game.DIM_X, Game.DIM_Y);\n      }\n    }\n    Game.ALLPOSITIONS.forEach((position) => {\n      this.squares[position].draw(context);\n    });\n  }\n\n}\n\nGame.DIM_X = Util.CANVASWIDTH;\nGame.DIM_Y = Util.CANVASHEIGHT;\nGame.BG_COLOR = \"#424949\";\nGame.ALLPOSITIONS = Util.allPositions();\n\n\nmodule.exports = Game;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/game.js\n// module id = 1\n// module chunks = 0","class Square {\n  constructor(options) {\n    this.pos = options.pos;\n    this.canvasPosition = options.canvasPosition;\n    this.width = options.width;\n    this.height = options.height;\n    this.color = Square.COLOR;\n    this.game = options.game;\n    this.live = this.randomLiving();\n    this.killColor = \"#424949\";\n  }\n\n  randomLiving() {\n    if (Math.floor(Math.random() * 100) < Square.PERCENTLIVING) {\n      return true;\n    }\n    return false;\n  }\n  killCell() {\n    this.live = false;\n  }\n\n  raiseCell() {\n    this.live = true;\n  }\n\n  change(surroundLiveCount) {\n    if (this.live === true) {\n      if (surroundLiveCount < 2 || surroundLiveCount > 3) {\n        this.killCell();\n        this.killColor = \"#000000\";\n      }\n    } else {\n      if (surroundLiveCount === 3) {\n        this.raiseCell();\n      }\n    }\n  }\n\n\n  draw(context) {\n    if (this.live) {\n      // if (this.game.flow) {\n      //   context.clearRect(this.canvasPosition[0], this.canvasPosition[1], this.width, this.height);\n      // }\n      context.fillStyle = this.color;\n      context.fillRect(this.canvasPosition[0], this.canvasPosition[1], this.width, this.height);\n    } else {\n      if (this.game.onlySquares) {\n        if (!this.game.flow) {\n          context.clearRect(this.canvasPosition[0], this.canvasPosition[1], this.width, this.height);\n        }\n        if (this.game.killColor) {\n          context.clearRect(this.canvasPosition[0], this.canvasPosition[1], this.width, this.height);\n          context.fillStyle = this.killColor;\n          context.fillRect(this.canvasPosition[0], this.canvasPosition[1], this.width, this.height);\n        }\n        // context.fillStyle = this.killedColor;\n        // context.fillRect(this.canvasPosition[0], this.canvasPosition[1], this.width, this.height);\n        // context.clearRect(this.canvasPosition[0], this.canvasPosition[1], this.width, this.height);\n      }\n    }\n  }\n}\n\nSquare.COLOR = \"#FF0000\";\nSquare.PERCENTLIVING = 5;\n\nmodule.exports = Square;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/square.js\n// module id = 2\n// module chunks = 0","const Util = {\n  // rectangleCanvasPositions() {\n  //   const rectWidth = Util.RECTWIDTH;\n  //   const rectHeight = Util.RECTHEIGHT;\n  //   const rectPositions = [];\n  //   for (let i = 0; i < Util.NUMSQUARES; i++) {\n  //     rectPositions.push([rectWidth * i, rectHeight * i]);\n  //   }\n  //   return rectPositions;\n  // },\n  canvasPosition(position) {\n    return [Util.RECTWIDTH * position[0], Util.RECTHEIGHT * position[1]];\n  },\n  surroundingPositions(pos) {\n    return [\n      [1 + pos[0], 1 + pos[1]],\n      [pos[0], 1 + pos[1]],\n      [-1 + pos[0], 1 + pos[1]],\n      [1 + pos[0], pos[1]],\n      [1 + pos[0], -1 + pos[1]],\n      [pos[0], -1 + pos[1]],\n      [-1 + pos[0], pos[1]],\n      [-1 + pos[0], -1 + pos[1]],\n    ];\n  },\n  allPositions() {\n    const positions = [];\n    for (let i = 0; i < Util.NUMSQUARES; i++) {\n      for (let j = 0; j < Util.NUMSQUARES; j++) {\n        positions.push([i, j]);\n      }\n    }\n    return positions;\n  }\n};\n\nUtil.CANVASWIDTH = 1000;\nUtil.CANVASHEIGHT = 600;\nUtil.NUMSQUARES = 100;\nUtil.RECTWIDTH = Util.CANVASWIDTH / Util.NUMSQUARES;\nUtil.RECTHEIGHT = Util.CANVASHEIGHT / Util.NUMSQUARES;\nUtil.LESSSQUARES = 1;\n\nmodule.exports = Util;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/util.js\n// module id = 3\n// module chunks = 0","class GameView {\n  constructor(game, context) {\n    this.game = game;\n    this.context = context;\n  }\n\n  start() {\n    requestAnimationFrame(this.animate.bind(this));\n  }\n\n  animate() {\n    this.game.changeSquares();\n    this.game.draw(this.context);\n    requestAnimationFrame(this.animate.bind(this));\n  }\n}\n\nmodule.exports = GameView;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/game_view.js\n// module id = 4\n// module chunks = 0"],"sourceRoot":""}